{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  itemsList: [],\n  itemType: 0,\n  itemSize: 0,\n  isLoading: true\n};\nexport const itemsSlice = createSlice({\n  name: 'items',\n  initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.itemsList = action.payload;\n    },\n    setItemType: (state, action) => {\n      state.itemType = action.payload;\n    },\n    setItemSize: (state, action) => {\n      state.itemSize = action.payload;\n    },\n    fecthItems: async (state, action) => {\n      const {\n        categoryValue,\n        searchValue,\n        sortValue\n      } = action.payload;\n      const isLoading = state.isLoading;\n      const sortValues = ['rating', 'price&order=asc', 'price&order=desc', 'name&order=asc', 'name&order=desc'];\n      const category = categoryValue === 0 ? '' : `&category=${categoryValue}`;\n      const sort = `&sortBy=${sortValues[sortValue]}`;\n      const search = searchValue ? `&search=${searchValue}` : '';\n      const filters = sort + category + search;\n\n      try {\n        const {\n          data\n        } = await axios.get(`https://6335ad248aa85b7c5d20b4d1.mockapi.io/items?page=${currentPage}&limit=4${filters}`);\n        itemsSlice.setItems(data);\n      } catch (error) {\n        alert('Помилка: ' + error);\n      } finally {\n        itemsSlice.setIsLoading(false);\n      }\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    }\n  }\n});\nexport const {\n  setItemType,\n  setItemSize,\n  setItems\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","axios","initialState","itemsList","itemType","itemSize","isLoading","itemsSlice","name","reducers","setItems","state","action","payload","setItemType","setItemSize","fecthItems","categoryValue","searchValue","sortValue","sortValues","category","sort","search","filters","data","get","currentPage","error","alert","setIsLoading","actions","reducer"],"sources":["C:/Users/bigba/Desktop/reactjs_projects/react-pizza/src/redux/slices/itemsSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n  itemsList: [],\r\n  itemType: 0,\r\n  itemSize: 0,\r\n  isLoading: true,\r\n};\r\n\r\nexport const itemsSlice = createSlice({\r\n  name: 'items',\r\n  initialState,\r\n  reducers: {\r\n    setItems: (state, action) => {\r\n      state.itemsList = action.payload;\r\n    },\r\n    setItemType: (state, action) => {\r\n      state.itemType = action.payload;\r\n    },\r\n    setItemSize: (state, action) => {\r\n      state.itemSize = action.payload;\r\n    },\r\n    fecthItems: async (state, action) => {\r\n      const { categoryValue, searchValue, sortValue } = action.payload;\r\n      const isLoading = state.isLoading;\r\n\r\n      const sortValues = [\r\n        'rating',\r\n        'price&order=asc',\r\n        'price&order=desc',\r\n        'name&order=asc',\r\n        'name&order=desc',\r\n      ];\r\n      const category = categoryValue === 0 ? '' : `&category=${categoryValue}`;\r\n      const sort = `&sortBy=${sortValues[sortValue]}`;\r\n      const search = searchValue ? `&search=${searchValue}` : '';\r\n      const filters = sort + category + search;\r\n\r\n      try {\r\n        const { data } = await axios.get(\r\n          `https://6335ad248aa85b7c5d20b4d1.mockapi.io/items?page=${currentPage}&limit=4${filters}`,\r\n        );\r\n        itemsSlice.setItems(data);\r\n      } catch (error) {\r\n        alert('Помилка: ' + error);\r\n      } finally {\r\n        itemsSlice.setIsLoading(false);\r\n      }\r\n    },\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setItemType, setItemSize, setItems } = itemsSlice.actions;\r\n\r\nexport default itemsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,EADQ;EAEnBC,QAAQ,EAAE,CAFS;EAGnBC,QAAQ,EAAE,CAHS;EAInBC,SAAS,EAAE;AAJQ,CAArB;AAOA,OAAO,MAAMC,UAAU,GAAGP,WAAW,CAAC;EACpCQ,IAAI,EAAE,OAD8B;EAEpCN,YAFoC;EAGpCO,QAAQ,EAAE;IACRC,QAAQ,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC3BD,KAAK,CAACR,SAAN,GAAkBS,MAAM,CAACC,OAAzB;IACD,CAHO;IAIRC,WAAW,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MAC9BD,KAAK,CAACP,QAAN,GAAiBQ,MAAM,CAACC,OAAxB;IACD,CANO;IAORE,WAAW,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MAC9BD,KAAK,CAACN,QAAN,GAAiBO,MAAM,CAACC,OAAxB;IACD,CATO;IAURG,UAAU,EAAE,OAAOL,KAAP,EAAcC,MAAd,KAAyB;MACnC,MAAM;QAAEK,aAAF;QAAiBC,WAAjB;QAA8BC;MAA9B,IAA4CP,MAAM,CAACC,OAAzD;MACA,MAAMP,SAAS,GAAGK,KAAK,CAACL,SAAxB;MAEA,MAAMc,UAAU,GAAG,CACjB,QADiB,EAEjB,iBAFiB,EAGjB,kBAHiB,EAIjB,gBAJiB,EAKjB,iBALiB,CAAnB;MAOA,MAAMC,QAAQ,GAAGJ,aAAa,KAAK,CAAlB,GAAsB,EAAtB,GAA4B,aAAYA,aAAc,EAAvE;MACA,MAAMK,IAAI,GAAI,WAAUF,UAAU,CAACD,SAAD,CAAY,EAA9C;MACA,MAAMI,MAAM,GAAGL,WAAW,GAAI,WAAUA,WAAY,EAA1B,GAA8B,EAAxD;MACA,MAAMM,OAAO,GAAGF,IAAI,GAAGD,QAAP,GAAkBE,MAAlC;;MAEA,IAAI;QACF,MAAM;UAAEE;QAAF,IAAW,MAAMxB,KAAK,CAACyB,GAAN,CACpB,0DAAyDC,WAAY,WAAUH,OAAQ,EADnE,CAAvB;QAGAjB,UAAU,CAACG,QAAX,CAAoBe,IAApB;MACD,CALD,CAKE,OAAOG,KAAP,EAAc;QACdC,KAAK,CAAC,cAAcD,KAAf,CAAL;MACD,CAPD,SAOU;QACRrB,UAAU,CAACuB,YAAX,CAAwB,KAAxB;MACD;IACF,CApCO;IAqCRA,YAAY,EAAE,CAACnB,KAAD,EAAQC,MAAR,KAAmB;MAC/BD,KAAK,CAACL,SAAN,GAAkBM,MAAM,CAACC,OAAzB;IACD;EAvCO;AAH0B,CAAD,CAA9B;AA8CP,OAAO,MAAM;EAAEC,WAAF;EAAeC,WAAf;EAA4BL;AAA5B,IAAyCH,UAAU,CAACwB,OAA1D;AAEP,eAAexB,UAAU,CAACyB,OAA1B"},"metadata":{},"sourceType":"module"}