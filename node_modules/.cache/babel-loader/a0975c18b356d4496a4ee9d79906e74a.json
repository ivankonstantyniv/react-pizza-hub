{"ast":null,"code":"import _slicedToArray from\"C:/Users/bigba/Desktop/reactjs_projects/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import debounce from'lodash.debounce';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/slices/filterSlice';import styles from'./Search.module.scss';import searchSVG from'../../assets/img/search-svgrepo-com.svg';import clearSVG from'../../assets/img/close_delete_icon.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),tempValue=_React$useState2[0],setTempValue=_React$useState2[1];var inputRef=React.useRef(null);var updateSearchValue=React.useCallback(debounce(function(val){dispatch(setSearchValue(val));},300),[]);var onClickClear=function onClickClear(){var _inputRef$current;setTempValue('');dispatch(setSearchValue(''));(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var onChangeValue=function onChangeValue(event){setTempValue(event.target.value);updateSearchValue(tempValue);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.searchSvg,alt:\"search\",src:searchSVG}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:tempValue,onChange:onChangeValue,placeholder:\"\\u041F\\u043E\\u0448\\u0443\\u043A\"}),tempValue.length>0&&/*#__PURE__*/_jsx(\"img\",{onClick:onClickClear,className:styles.clearSvg,alt:\"clear\",src:clearSVG})]});};export default Search;","map":{"version":3,"names":["React","debounce","useDispatch","setSearchValue","styles","searchSVG","clearSVG","Search","dispatch","useState","tempValue","setTempValue","inputRef","useRef","updateSearchValue","useCallback","val","onClickClear","current","focus","onChangeValue","event","target","value","root","searchSvg","length","clearSvg"],"sources":["C:/Users/bigba/Desktop/reactjs_projects/react-pizza/src/components/Search/index.tsx"],"sourcesContent":["import React from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { setSearchValue } from '../../redux/slices/filterSlice';\r\n\r\nimport styles from './Search.module.scss';\r\nimport searchSVG from '../../assets/img/search-svgrepo-com.svg';\r\nimport clearSVG from '../../assets/img/close_delete_icon.svg';\r\n\r\nconst Search: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const [tempValue, setTempValue] = React.useState<string>('');\r\n\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const updateSearchValue = React.useCallback(\r\n    debounce((val: string) => {\r\n      dispatch(setSearchValue(val));\r\n    }, 300),\r\n    [],\r\n  );\r\n\r\n  const onClickClear = () => {\r\n    setTempValue('');\r\n    dispatch(setSearchValue(''));\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const onChangeValue = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTempValue(event.target.value);\r\n    updateSearchValue(tempValue);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <img className={styles.searchSvg} alt=\"search\" src={searchSVG} />\r\n      <input ref={inputRef} value={tempValue} onChange={onChangeValue} placeholder=\"Пошук\" />\r\n      {tempValue.length > 0 && (\r\n        <img onClick={onClickClear} className={styles.clearSvg} alt=\"clear\" src={clearSVG} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"yIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,iBAArB,CAEA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,cAAT,KAA+B,gCAA/B,CAEA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,UAAP,KAAsB,yCAAtB,CACA,MAAOC,SAAP,KAAqB,wCAArB,C,wFAEA,GAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC7B,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,oBAAkCF,KAAK,CAACS,QAAN,CAAuB,EAAvB,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBAEA,GAAMC,SAAQ,CAAGZ,KAAK,CAACa,MAAN,CAA+B,IAA/B,CAAjB,CAEA,GAAMC,kBAAiB,CAAGd,KAAK,CAACe,WAAN,CACxBd,QAAQ,CAAC,SAACe,GAAD,CAAiB,CACxBR,QAAQ,CAACL,cAAc,CAACa,GAAD,CAAf,CAAR,CACD,CAFO,CAEL,GAFK,CADgB,CAIxB,EAJwB,CAA1B,CAOA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,uBACzBN,YAAY,CAAC,EAAD,CAAZ,CACAH,QAAQ,CAACL,cAAc,CAAC,EAAD,CAAf,CAAR,CACA,mBAAAS,QAAQ,CAACM,OAAT,8DAAkBC,KAAlB,GACD,CAJD,CAMA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAgD,CACpEV,YAAY,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CACAT,iBAAiB,CAACJ,SAAD,CAAjB,CACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAEN,MAAM,CAACoB,IAAvB,wBACE,YAAK,SAAS,CAAEpB,MAAM,CAACqB,SAAvB,CAAkC,GAAG,CAAC,QAAtC,CAA+C,GAAG,CAAEpB,SAApD,EADF,cAEE,cAAO,GAAG,CAAEO,QAAZ,CAAsB,KAAK,CAAEF,SAA7B,CAAwC,QAAQ,CAAEU,aAAlD,CAAiE,WAAW,CAAC,gCAA7E,EAFF,CAGGV,SAAS,CAACgB,MAAV,CAAmB,CAAnB,eACC,YAAK,OAAO,CAAET,YAAd,CAA4B,SAAS,CAAEb,MAAM,CAACuB,QAA9C,CAAwD,GAAG,CAAC,OAA5D,CAAoE,GAAG,CAAErB,QAAzE,EAJJ,GADF,CASD,CAjCD,CAmCA,cAAeC,OAAf"},"metadata":{},"sourceType":"module"}